{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Usuario/Desktop/APIRest/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function () {\n  return [\"/registro\"];\n};\nclass LoginPage {\n  constructor( /*Formulario*/fb, /*Alertas*/alertController, /*Guard*/navCtrl) {\n    this.fb = fb;\n    this.alertController = alertController;\n    this.navCtrl = navCtrl;\n    this.formularioLogin = this.fb.group({\n      'nombre': new FormControl(\"\", Validators.required),\n      'password': new FormControl(\"\", Validators.required)\n    });\n  }\n  ngOnInit() {\n    //this.ingresar();\n    if (localStorage.getItem('ingresado')) {\n      this.navCtrl.navigateRoot('home');\n    }\n  }\n  ingresar() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var f = _this.formularioLogin.value;\n      //Ojo con la exclamación al final, ya que no puede ser asignado un valor que puede ser vacío.\n      var usuario = JSON.parse(localStorage.getItem('usuario'));\n      if (usuario.nombre == f.nombre && usuario.password == f.password) {\n        console.log('Ingresado');\n        //Funcionalidades sólo para utilizar con guard\n        localStorage.setItem('ingresado', 'true');\n        _this.navCtrl.navigateRoot('home');\n      } else {\n        const alert = yield _this.alertController.create({\n          header: 'Datos incorrectos',\n          message: 'Los datos que ingresaste son incorrectos.',\n          buttons: ['Aceptar']\n        });\n        yield alert.present();\n      }\n    })();\n  }\n}\n_class = LoginPage;\n_class.ɵfac = function LoginPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i2.NavController));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 5,\n  consts: [[\"color\", \"primary\"], [3, \"formGroup\"], [\"position\", \"floating\"], [\"formControlName\", \"nombre\", 3, \"clearInput\"], [\"formControlName\", \"password\", \"type\", \"password\", 3, \"clearInput\"], [3, \"click\"], [3, \"routerLink\"]],\n  template: function LoginPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\")(5, \"ion-card\")(6, \"ion-card-header\")(7, \"ion-card-title\");\n      i0.ɵɵtext(8, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-card-content\")(10, \"form\", 1)(11, \"ion-item\")(12, \"ion-label\", 2);\n      i0.ɵɵtext(13, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"ion-input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"ion-item\")(16, \"ion-label\", 2);\n      i0.ɵɵtext(17, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"ion-input\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(19, \"br\");\n      i0.ɵɵelementStart(20, \"ion-button\", 5);\n      i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_20_listener() {\n        return ctx.ingresar();\n      });\n      i0.ɵɵtext(21, \" Ingresar \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(22, \"ion-footer\")(23, \"ion-toolbar\", 0)(24, \"ion-buttons\")(25, \"ion-button\", 6);\n      i0.ɵɵtext(26, \"Registrarse\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.formularioLogin);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"clearInput\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"clearInput\", true);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i2.IonButton, i2.IonButtons, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardTitle, i2.IonContent, i2.IonFooter, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonTitle, i2.IonToolbar, i2.TextValueAccessor, i2.RouterLinkDelegate, i3.RouterLink, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { LoginPage };","map":{"version":3,"names":["FormControl","Validators","LoginPage","constructor","fb","alertController","navCtrl","formularioLogin","group","required","ngOnInit","localStorage","getItem","navigateRoot","ingresar","_this","_asyncToGenerator","f","value","usuario","JSON","parse","nombre","password","console","log","setItem","alert","create","header","message","buttons","present","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","AlertController","NavController","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LoginPage_Template_ion_button_click_20_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\Usuario\\Desktop\\APIRest\\src\\app\\login\\login.page.ts","C:\\Users\\Usuario\\Desktop\\APIRest\\src\\app\\login\\login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\nimport { AlertController, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  formularioLogin: FormGroup;\n\n  constructor(/*Formulario*/ public fb: FormBuilder, /*Alertas*/ public alertController: AlertController, /*Guard*/public navCtrl:NavController) { \n    this.formularioLogin = this.fb.group({\n      'nombre': new FormControl(\"\",Validators.required),\n      'password': new FormControl(\"\",Validators.required)\n    })\n\n  }\n\n  ngOnInit() {\n    //this.ingresar();\n    if(localStorage.getItem('ingresado'))\n    {\n      this.navCtrl.navigateRoot('home');\n    }\n  }\n\n  async ingresar(){\n    var f = this.formularioLogin.value;\n    //Ojo con la exclamación al final, ya que no puede ser asignado un valor que puede ser vacío.\n    var usuario = JSON.parse(localStorage.getItem('usuario')!);\n\n    if(usuario.nombre == f.nombre && usuario.password == f.password){\n      console.log('Ingresado');\n      //Funcionalidades sólo para utilizar con guard\n      localStorage.setItem('ingresado','true');\n      this.navCtrl.navigateRoot('home');\n    }else{\n      const alert = await this.alertController.create({\n        header: 'Datos incorrectos',\n        message: 'Los datos que ingresaste son incorrectos.',\n        buttons: ['Aceptar']\n      });\n  \n      await alert.present();\n    }\n  }\n\n}","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>Login</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-card>\n    <ion-card-header>\n      <ion-card-title>Login</ion-card-title>\n    </ion-card-header>\n    <ion-card-content>\n      <form [formGroup]=\"formularioLogin\">\n        <ion-item>\n          <ion-label position=\"floating\">Nombre</ion-label>\n          <ion-input formControlName=\"nombre\" [clearInput]='true'></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label position=\"floating\" >Contraseña</ion-label>\n          <ion-input formControlName=\"password\" [clearInput]='true' type=\"password\"></ion-input>\n        </ion-item>\n      </form>\n      <br>\n      <ion-button (click)=\"ingresar()\">\n        Ingresar\n      </ion-button>\n    </ion-card-content>\n  </ion-card>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons>\n      <ion-button [routerLink]=\"['/registro']\">Registrarse</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}